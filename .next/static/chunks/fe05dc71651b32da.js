(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63589,(e,a,t)=>{a.exports=e.r(27611)},1182,e=>{"use strict";var a=e.i(24629),t=e.i(88610),s=e.i(63589);function i(){let e=(0,s.useRouter)(),[i,r]=(0,t.useState)("mushtaqzahid888@gmail.com"),[l,n]=(0,t.useState)(""),[o,d]=(0,t.useState)("email"),[c,m]=(0,t.useState)(!1),[u,h]=(0,t.useState)(""),[b,p]=(0,t.useState)(""),[g,j]=(0,t.useState)(()=>localStorage.getItem("musicPlayerTheme")||"light");(0,t.useEffect)(()=>{document.body.setAttribute("data-theme",g)},[g]);let y=async e=>{e.preventDefault(),m(!0),h("");try{let e=await fetch("/api/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),a=await e.json();if(!e.ok)throw Error(a.error||"Failed to send OTP");p("OTP sent to your email!"),d("otp")}catch(e){h(e.message)}finally{m(!1)}},x=async a=>{a.preventDefault(),m(!0),h("");try{let a=await fetch("/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,otp:l})}),t=await a.json();if(!a.ok)throw Error(t.error||"Invalid OTP");e.push("/admin/dashboard")}catch(e){h(e.message)}finally{m(!1)}};return(0,a.jsxs)("div",{className:"admin-login",children:[(0,a.jsxs)("div",{className:"login-bg",children:[(0,a.jsx)("div",{className:"gradient-orb orb-1"}),(0,a.jsx)("div",{className:"gradient-orb orb-2"}),(0,a.jsx)("div",{className:"gradient-orb orb-3"})]}),(0,a.jsxs)("div",{className:"login-card",children:[(0,a.jsxs)("div",{className:"logo",children:[(0,a.jsx)("h1",{children:"Playly"}),(0,a.jsx)("p",{children:"Admin Dashboard"})]}),u&&(0,a.jsx)("div",{className:"error",children:u}),b&&(0,a.jsx)("div",{className:"success",children:b}),"email"===o?(0,a.jsxs)("form",{onSubmit:y,children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{children:"Admin Email"}),(0,a.jsx)("input",{type:"email",value:i,onChange:e=>r(e.target.value),placeholder:"Enter admin email",required:!0,disabled:!0})]}),(0,a.jsx)("button",{type:"submit",className:"submit-btn",disabled:c,children:c?"Sending...":"Send OTP"})]}):(0,a.jsxs)("form",{onSubmit:x,children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{children:"Enter OTP"}),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>n(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"otp-input",required:!0,maxLength:6,autoFocus:!0})]}),(0,a.jsx)("button",{type:"submit",className:"submit-btn",disabled:c||6!==l.length,children:c?"Verifying...":"Verify & Login"}),(0,a.jsx)("button",{type:"button",className:"back-btn",onClick:()=>{d("email"),n(""),h(""),p("")},children:"â† Back to email"})]})]})]})}e.s(["default",()=>i])}]);